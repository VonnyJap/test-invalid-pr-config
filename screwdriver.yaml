shared:
  image: node:20

jobs:
  second:
    template: sd/noop
    requires: [~pr, ~commit]
    steps:
    - noop: |
        echo "true"
    - teardown-step: |
        echo $(meta get meta.build_status)
        meta set meta.status.first '{"status":"SUCCESS","message":"Coverage is above 80%."}'
  first:
    template: sd/noop
    requires: [second]
